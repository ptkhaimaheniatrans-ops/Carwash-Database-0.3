<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Carwash Database 0.3</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="assets/icons/icon-512.png.jpeg" type="image/jpeg">
  <link rel="apple-touch-icon" href="assets/icons/icon-512.png.jpeg">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

  <script defer src="script.js"></script>
</head>

<body>
  <!-- LOADING -->
  <div id="loading" class="center-screen">
    <div class="typewriter">Loading . . . Please Wait.</div>
  </div>

  <!-- LOGIN -->
  <div id="login" class="hidden center-screen">
    <h1 class="title">Carwash Database 0.3</h1>
    <p class="subtitle">Insert Your Secret Code Here!</p>
    <input type="password" id="secretCode" class="input-box" placeholder=".......">
    <button id="btnConnect" class="btn lilac">Connect</button>
  </div>

  <!-- DASHBOARD -->
  <div id="dashboard" class="hidden center-screen">
    <button id="btnBackMain" class="btn back-btn">Back</button>
    <h1 class="title">Welcome back, to your Digital Dashboard!</h1>
    <p class="subtitle">Select Action</p>
    <div id="menuButtons"></div>
  </div>

  <!-- INPUT ENTRY TAB -->
  <div id="inputTab" class="hidden center-screen">
    <button class="btn back-btn" id="backToDashboard1">Back</button>
    <h2 class="title">Fill this form down below</h2>

    <label>Date</label>
    <input type="date" id="dateInput" class="input-box">

    <label>Driver or PO</label>
    <input list="driverList" id="driverInput" class="input-box" placeholder="Choose or Type Manually">
    <datalist id="driverList">
      <option>Andris</option><option>Malik</option><option>Johan</option><option>Dudi</option>
      <option>Iwan</option><option>Teddy</option><option>Kholik</option><option>Rijal</option>
      <option>Seno</option><option>Kantor</option>
    </datalist>

    <label>Unit</label>
    <input list="unitList" id="unitInput" class="input-box" placeholder="Choose or Type Manually">
    <datalist id="unitList">
      <option>Avanza NZR</option><option>New Avanza</option><option>Xenia ROK | FAU</option>
      <option>Honda BRV BZO</option><option>Terios UKU</option><option>Veloz DFJ</option>
      <option>Stargazer</option><option>Innova Reborn PKA | FAP</option>
      <option>Zenix 89 WIS</option><option>Zenix 50 WIS</option>
      <option>Zenix Hybrid NFJ</option><option>HiAce 09 WDA</option>
    </datalist>

    <label>Payment Method</label>
    <div class="segment-control">
      <div class="segment blue" data-value="Transfer">Transfer</div>
      <div class="segment grey" data-value="Cash">Cash</div>
    </div>

    <button id="submitEntry" class="btn lilac">Press to Submit</button>
  </div>

  <!-- DATABASE TAB -->
  <div id="databaseTab" class="hidden center-screen">
    <button class="btn back-btn" id="backToDashboard2">Back</button>
    <h2 class="title">Database</h2>

    <div class="filter-box">
      <input type="month" id="filterMonth" class="input-box" style="width:60%;">
      <button id="searchBtn" class="btn lilac" style="width:60%;">Search</button>
    </div>

    <table id="dataTable">
  <thead>
    <tr>
      <th style="display:none;">Tanggal</th> <!-- kolom tanggal tersembunyi -->
      <th>Driver or PO</th>
      <th>Unit</th>
      <th>Payment</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
    <div class="total" id="totalEntry"></div>
  </div>

  <!-- ðŸ§© Inline script -->
  <script>
    // Show loading screen first, then login
    window.onload = () => {
      setTimeout(() => {
        document.getElementById('loading').classList.add('hidden');
        document.getElementById('login').classList.remove('hidden');
      }, 2000);
    };

    // Register Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('service-worker.js')
          .then(reg => console.log('Service Worker registered:', reg.scope))
          .catch(err => console.error('Service Worker registration failed:', err));
      });
    }
  </script>
</body>
</html>

